# 基本設計書
---
当設計書は、画面(client)・業務(API)・基盤(infra)それぞれの設計を行う。<br>
<br>

## 目次

- 画面
    - [画面レイアウト](#画面レイアウト)
    - [コンポーネント設計](#コンポーネント設計)
    - [画面遷移図](#画面遷移図)
    - [帳票設計](#帳票設計)
- 業務
    - [機能設計](#機能設計)
    - [テーブル定義](#テーブル定義)
    - [テーブル一覧](#テーブル一覧)
    - [ER図](#ER図)
- 基盤
    - [システム構成図](#システム構成図)
    - [ネットワーク設計図](#ネットワーク設計図)
    - [サーバー設計書](#サーバー設計書)

## [画面レイアウト](#画面レイアウト)
- ログイン画面<br>
- ホーム画面<br>
- 社員一覧画面<br>
- 月次報告書作成画面<br>
- 社員登録画面<br>

※要件定義工程で名称が決まっていなかった、ホーム画面 or 社員ページ画面はホーム画面として今後は記述する。
## [コンポーネント設計](#コンポーネント設計)
## [画面遷移図](#画面遷移図)
## [帳票設計](#帳票設計)
## [機能設計](#機能設計)
## [テーブル定義](#テーブル定義)
## [テーブル一覧](#テーブル一覧)
## [ER図](#ER図)
## [システム構成図](#システム構成図)
**前提**: [Docker](https://www.docker.com/ja-jp/)を使用するものとする。<br>
Docker-composeを使用して、 サーバー設計書で設計したサーバーをコンテナ化してネットワークに配備する。<br>
以下、設計はDocker-composeの技術を前提に進めていく。<br>
| No  | 設計書の内のサーバー名 | Docker-compose内のサービス名(仮想サーバー名) | 使用するDocker image | 
| :-: | :--------------------: | :--------------------------: | -------------------- | 
| 1   | クライアントサーバー   | Client                       | node: 20             | 
| 2   | APIサーバー            | API                          | eclipse-temurin:18   | 
| 3   | DBサーバー             | DB                           | mysql:8.0.29         | 
<br>

- 仮想サーバーとホストマシーンのport<br>

| No  | 　仮想サーバー名 | ホストマシーン側のport | 仮想サーバー側のport | 
| :-: | :--------------: | :--------------------: | :------------------: | 
| 1   | Client           | 3000                   | 4500                 | 
| 2   | API              | 8000                   | 8080                 | 
| 3   | DB               | 3300                   | 3306                 | 
<br>

- ホストマシーンと仮想サーバーで共有するフォルダ<br>

| No  | 　仮想サーバー名 | ホストサーバーで共有するフォルダ | 仮想サーバーで共有するフォルダ                         | 
| :-: | :--------------: | :------------------------------: | :----------------------------------------------------: | 
| 1   | Client           | Client                           | Client                                                 | 
| 2   | API              | API                              | API                                                    | 
| 3   | DB               | initdb.d(DBの情報)               | docker-entrypoint-initdb.d(dockerのDB情報設定ファイル) | 
<br>
## [サーバー設計書](#サーバー設計書)
当システムは以下の３つのサーバーを構成することで、目的の業務のシステム化を測る。<br><br>
- クライアントサーバー
    当システムの画面に関する資産を配置し、nodeを起動することで画面内のコンポーネントを通じてユーザーが求める業務をUIとして供給するサーバー。<br>
    使用技術としては、HTML, CSS, JavaScript, Vue3, Vuetify, vite, axiosを使用する。<br>
    APIサーバーとの通信はaxiosを使用する。<br><br>
- APIサーバー
    当システムの機能を実装するサーバー。<br>
    Java17の資産を配置し、DBサーバーから必要なデータを取得、修正、削除を行う。<br>
    使用技術として、Java17, Spring Boot, Gradle, Mybatis等を使用する。<br>
    クライアントサーバーでaxiosを使用する為、URL等の設計は下記ネットワーク設計図で詳細に記述する。<br><br>
- DBサーバー
    当システムで使用する、データを管理するサーバー。<br>
    使用技術としては、MySQLを使用する。<br>

## [ネットワーク設計図](#ネットワーク設計図)
- ネットワーク<br>
    docker-composeのネットワーク機能を使用する。<br>
    ネットワーク名：In-HouseSubmissionDocumentPreparationSystem-network<br>
    タイプ：ブリッジ